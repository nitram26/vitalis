<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cálculo de Separación entre Listones</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: antiquewhite;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }
    h1 {
      color: #333;
    }
    .container {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      width: 340px;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 6px;
      margin-top: 4px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 15px;
      width: 48%;
      padding: 10px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background: #0056b3;
    }
    .botones {
      display: flex;
      justify-content: space-between;
    }
    .resultado {
      margin-top: 15px;
      font-size: 1.1em;
      text-align: center;
      font-weight: bold;
      color: #333;
    }
    .visual {
      margin-top: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-top: 2px solid #666;
      border-bottom: 2px solid #666;
      height: 50px;
      width: 100%;
      position: relative;
      overflow: hidden;
    }
    .liston {
      background: #007bff;
      height: 100%;
      position: absolute;
    }
  </style>
</head>
<body>
  <h1>Separación entre Listones</h1>
  <div class="container">
    <label for="longitud">Longitud total (cm):</label>
    <input type="number" id="longitud" placeholder="Ej. 500">

    <label for="ancho">Ancho de cada listón (cm):</label>
    <input type="number" id="ancho" placeholder="Ej. 4">

    <label for="cantidad">Cantidad de listones intermedios:</label>
    <input type="number" id="cantidad" placeholder="Ej. 6">

    <label for="bordes">¿Bordes libres o con listón?</label>
    <select id="bordes">
      <option value="ocupados">Con listón en los bordes</option>
      <option value="libres">Bordes libres</option>
    </select>

    <div class="botones">
      <button onclick="calcular()">Calcular</button>
      <button style="background:#6c757d" onclick="limpiar()">Limpiar</button>
    </div>

    <div class="resultado" id="resultado"></div>
    <div class="visual" id="visual"></div>
  </div>

  <script>
    function calcular() {
      const longitud = parseFloat(document.getElementById("longitud").value);
      const ancho = parseFloat(document.getElementById("ancho").value);
      const cantidad = parseInt(document.getElementById("cantidad").value);
      const bordes = document.getElementById("bordes").value;
      const resultado = document.getElementById("resultado");
      const visual = document.getElementById("visual");
      visual.innerHTML = "";

      if (isNaN(longitud) || isNaN(ancho) || isNaN(cantidad) || longitud <= 0 || ancho <= 0 || cantidad < 0) {
        resultado.innerText = "Por favor, ingresa valores válidos.";
        return;
      }

      let totalListones;
      if (bordes === "ocupados") {
        totalListones = cantidad + 2; // incluye bordes
      } else {
        totalListones = cantidad; // bordes libres
      }

      const espacioLibre = longitud - totalListones * ancho;
      const divisiones = (bordes === "ocupados") ? totalListones - 1 : totalListones + 1;
      if (espacioLibre <= 0) {
        resultado.innerText = "La suma de los listones supera la longitud total.";
        return;
      }

      const separacion = espacioLibre / divisiones;
      resultado.innerText = `Separación entre listones: ${separacion.toFixed(1)} cm`;

      // Dibujo visual
      const escala = 500 / longitud;
      let posicion = (bordes === "ocupados") ? 0 : separacion;
      for (let i = 0; i < totalListones; i++) {
        const div = document.createElement("div");
        div.classList.add("liston");
        div.style.left = `${posicion * escala}px`;
        div.style.width = `${ancho * escala}px`;
        visual.appendChild(div);
        posicion += ancho + separacion;
      }
    }

    function limpiar() {
      document.getElementById("longitud").value = "";
      document.getElementById("ancho").value = "";
      document.getElementById("cantidad").value = "";
      document.getElementById("bordes").value = "ocupados";
      document.getElementById("resultado").innerText = "";
      document.getElementById("visual").innerHTML = "";
    }
  </script>
</body>
</html>
